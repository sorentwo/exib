<?xml version="1.0" encoding="utf-8"?>

<!--
  Description
-->

<ExibApplication
  xmlns="com.soren.exib.core.*"
  xmlns:mx="http://www.adobe.com/2006/mxml"
  creationComplete="init()"
  frameRate="24"
  layout="absolute"
  pageTitle="Exib Test"
  resetHistory="true"
  scriptRecursionLimit="100"
  scriptTimeLimit="10"
  usePreloader="true">

  <mx:Script>
    <![CDATA[
      import mx.core.ByteArrayAsset
      import com.soren.exib.core.ExibApplication
    
      /**
      * The XML embed statement.
      **/
      [Embed(source="../assets/config/config.exml", mimeType="application/octet-stream")]
      private const ConfigXML:Class
      
      // AUTO EMBED
    
      /**
      * Pool patterns meant to be used as follows:
      *
      * models   = _model
      * services = *service
      * queues   = +queue
      * media    = $media
      * formats  = #format
      **/
      private var pools:Array = [/^_\w+/, /^\*\w+/, /^\+\w+/, /^\$\w+/, /^#\w+/]
    
      /**
      * The asset location. It isn't likely these will need to be changed.
      **/
      private var asset_path:String  = '../assets'
    
      public function init():void {
        var byte_array:ByteArray = ByteArrayAsset(new ConfigXML())
        var exml:XML = new XML(byte_array.readUTFBytes(byte_array.length))
        start(exml, asset_path, pools)
      }
    ]]>
  </mx:Script>
</ExibApplication>